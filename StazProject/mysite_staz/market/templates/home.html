<!--&lt;!&ndash;#templates/home.html&ndash;&gt;-->

<!--Шаблон Django-->
{% load static %}
<!--HTML-разметка-->
<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- Мета-информация-->
    <meta charset="UTF-8"> <!--Устанавливает кодировку UTF-8-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!--Адаптация дизайна для моб устройств-->
    <title>Интернет-магазин книг</title> <!--Отображаемый заголовок-->
    <!--Подключение CSS (подключает внешний CSS-файл из папки static/css для стилизации страницы)-->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <!--внешний вид элементов: фон, шрифты, отступы, стили карточек товаров и кнопок-->
    <style>
        body {
            background: url('{% static "images/bookshelf.jpg" %}') no-repeat center center fixed; <!--фоновое изображение-->
            background-size: cover;
            margin: 0;
            font-family: Arial, sans-serif;
            color: #333;
        }

        header {
            text-align: center;
            padding: 20px;
            color: white;
            background: rgba(0, 0, 0, 0.7);
        }

        .top-bar {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
        }

        .button {
            text-decoration: none;
            padding: 10px 15px;
            background-color: #007bff;
            color: white;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .button:hover {
            background-color: #0056b3;
        }

        /*bспользует CSS Grid для расположения карточек продуктов*/
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px;
            padding: 20px;
            /*background: rgba(255, 255, 255, 0.8);*/
            border-radius: 10px;
        }

        .product-card {
            padding: 15px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .product-card h3 {
            font-size: 1.2em;
            margin: 10px 0;
        }

        .product-card .price {
            color: #007bff;
            font-weight: bold;
            margin: 10px 0;
        }

        footer {
            text-align: center;
            padding: 10px;
            background-color: #333;
            color: white;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>
<body>
    <!--Шапка страницы-->
    <header>
        <h1>Добро пожаловать в наш книжный магазин</h1>
        <p>Найдите свою следующую любимую книгу!</p>
    </header>

    <!--Панель навигации-->
    <div class="top-bar">
        <a href="/register" class="button">Регистрация</a>
        <a href="/login" class="button">Вход</a>
        <a href="/api/profile/" class="button">Личный кабинет</a>
        <a href="/cart" class="button">Корзина</a>
<!--показывает, как отображать элементы навигации в зависимости от того, авторизован ли пользователь       -->
{% if user.is_authenticated %}-->
<!--            <a href="/api/profile/" class="button">Мой кабинет</a>-->
<!--        {% else %}-->
<!--            <a href="/register" class="button">Регистрация</a>-->
<!--            <a href="/login" class="button">Вход</a>-->
<!--        {% endif %}-->
    </div>

    <main>
        <!--Раздел продуктов-->
        <section class="products-section">
<!--            <h2 style="text-align: center;">Наши книги</h2>-->
            <!--Пустой блок (id="products") для динамической загрузки продуктов-->
            <div id="products" class="products-grid"></div>
        </section>
    </main>

    <!--Футер с информацией - нижняя строка-->
    <footer>
        <p>© 2025 Интернет-магазин книг. Все права защищены.</p>
    </footer>

    <script>
        // JavaScript - Загрузка списка продуктов
        fetch('/api/products/') <!--Делает GET-запрос к API для получения списка продуктов-->
            .then(response => {
                if (!response.ok) {
                    throw new Error('Ошибка сети при получении продуктов');
                }
                return response.json();
            })
            .then(data => {
                const container = document.getElementById('products');
                data.forEach(product => {
                    const productName = product.name_ru || product.name;
                    container.innerHTML += `
                        <div class="product-card">
                            <img src="${product.image || '/static/images/default-book.jpg'}" alt="${productName}" style="max-width: 100%;">
                            <h3>${productName}</h3>
                            <p>${product.description}</p>
                            <p class="price">Цена: ${product.price} BYN</p>
                            <button onclick="addToCart(${product.id})" class="button">Добавить в корзину</button>
                        </div>
                    `;
                });
            })
            .catch(error => {
                console.error('Ошибка при получении продуктов:', error);
                const container = document.getElementById('products');
                container.innerHTML = '<p style="color: red;">Не удалось загрузить список продуктов. Попробуйте позже.</p>';
            });

        function addToCart(productId) {
            console.log(`Добавлен товар ${productId} в корзину`);
        }
    </script>
</body>
</html>




<!--&lt;!&ndash;{% load static %}&ndash;&gt;-->
<!--&lt;!&ndash;<!DOCTYPE html>&ndash;&gt;-->
<!--&lt;!&ndash;<html lang="ru">&ndash;&gt;-->
<!--&lt;!&ndash;<head>&ndash;&gt;-->
<!--&lt;!&ndash;    <meta charset="UTF-8">&ndash;&gt;-->
<!--&lt;!&ndash;    <meta name="viewport" content="width=device-width, initial-scale=1.0">&ndash;&gt;-->
<!--&lt;!&ndash;    <title>Интернет-магазин книг</title>&ndash;&gt;-->
<!--&lt;!&ndash;    <link rel="stylesheet" href="{% static 'css/style.css' %}">&ndash;&gt;-->
<!--&lt;!&ndash;    <style>&ndash;&gt;-->
<!--&lt;!&ndash;        body {&ndash;&gt;-->
<!--&lt;!&ndash;            background: url('{% static "images/bookshelf.jpg" %}') no-repeat center center fixed;&ndash;&gt;-->
<!--&lt;!&ndash;            background-size: cover;&ndash;&gt;-->
<!--&lt;!&ndash;            margin: 0;&ndash;&gt;-->
<!--&lt;!&ndash;            font-family: Arial, sans-serif;&ndash;&gt;-->
<!--&lt;!&ndash;            color: #333;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        header {&ndash;&gt;-->
<!--&lt;!&ndash;            text-align: center;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;            color: white;&ndash;&gt;-->
<!--&lt;!&ndash;            background: rgba(0, 0, 0, 0.7);&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .top-bar {&ndash;&gt;-->
<!--&lt;!&ndash;            position: absolute;&ndash;&gt;-->
<!--&lt;!&ndash;            top: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;            right: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;            display: flex;&ndash;&gt;-->
<!--&lt;!&ndash;            gap: 10px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .button {&ndash;&gt;-->
<!--&lt;!&ndash;            text-decoration: none;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 10px 15px;&ndash;&gt;-->
<!--&lt;!&ndash;            background-color: #007bff;&ndash;&gt;-->
<!--&lt;!&ndash;            color: white;&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: 5px;&ndash;&gt;-->
<!--&lt;!&ndash;            transition: background-color 0.3s;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .button:hover {&ndash;&gt;-->
<!--&lt;!&ndash;            background-color: #0056b3;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .products-grid {&ndash;&gt;-->
<!--&lt;!&ndash;            display: grid;&ndash;&gt;-->
<!--&lt;!&ndash;            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));&ndash;&gt;-->
<!--&lt;!&ndash;            gap: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;            margin: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;            background: rgba(255, 255, 255, 0.8);&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: 10px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .product-card {&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 15px;&ndash;&gt;-->
<!--&lt;!&ndash;            background: white;&ndash;&gt;-->
<!--&lt;!&ndash;            border: 1px solid #ddd;&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: 10px;&ndash;&gt;-->
<!--&lt;!&ndash;            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);&ndash;&gt;-->
<!--&lt;!&ndash;            text-align: center;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .product-card h3 {&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 1.2em;&ndash;&gt;-->
<!--&lt;!&ndash;            margin: 10px 0;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .product-card .price {&ndash;&gt;-->
<!--&lt;!&ndash;            color: #007bff;&ndash;&gt;-->
<!--&lt;!&ndash;            font-weight: bold;&ndash;&gt;-->
<!--&lt;!&ndash;            margin: 10px 0;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        footer {&ndash;&gt;-->
<!--&lt;!&ndash;            text-align: center;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 10px;&ndash;&gt;-->
<!--&lt;!&ndash;            background-color: #333;&ndash;&gt;-->
<!--&lt;!&ndash;            color: white;&ndash;&gt;-->
<!--&lt;!&ndash;            position: fixed;&ndash;&gt;-->
<!--&lt;!&ndash;            bottom: 0;&ndash;&gt;-->
<!--&lt;!&ndash;            width: 100%;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->
<!--&lt;!&ndash;    </style>&ndash;&gt;-->
<!--&lt;!&ndash;</head>&ndash;&gt;-->
<!--&lt;!&ndash;<body>&ndash;&gt;-->
<!--&lt;!&ndash;    <header>&ndash;&gt;-->
<!--&lt;!&ndash;        <h1>Добро пожаловать в наш книжный магазин</h1>&ndash;&gt;-->
<!--&lt;!&ndash;        <p>Найдите свою следующую любимую книгу!</p>&ndash;&gt;-->
<!--&lt;!&ndash;    </header>&ndash;&gt;-->

<!--&lt;!&ndash;    <div class="top-bar">&ndash;&gt;-->
<!--&lt;!&ndash;        <a href="/cart" class="button">Корзина</a>&ndash;&gt;-->
<!--&lt;!&ndash;        {% if user.is_authenticated %}&ndash;&gt;-->
<!--&lt;!&ndash;            <a href="/api/profile/" class="button">Мой кабинет</a>&ndash;&gt;-->
<!--&lt;!&ndash;        {% else %}&ndash;&gt;-->
<!--&lt;!&ndash;            <a href="/register" class="button">Регистрация</a>&ndash;&gt;-->
<!--&lt;!&ndash;            <a href="/login" class="button">Вход</a>&ndash;&gt;-->
<!--&lt;!&ndash;        {% endif %}&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    <div class="top-bar">&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        <a href="/cart" class="button">Корзина</a>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        <a href="/register" class="button">Регистрация</a>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    </div>&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;    <main>&ndash;&gt;-->
<!--&lt;!&ndash;        <section class="products-section">&ndash;&gt;-->
<!--&lt;!&ndash;            <h2 style="text-align: center;">Наши книги</h2>&ndash;&gt;-->
<!--&lt;!&ndash;            <div id="products" class="products-grid"></div>&ndash;&gt;-->
<!--&lt;!&ndash;        </section>&ndash;&gt;-->
<!--&lt;!&ndash;    </main>&ndash;&gt;-->

<!--&lt;!&ndash;    <footer>&ndash;&gt;-->
<!--&lt;!&ndash;        <p>© 2025 Интернет-магазин книг. Все права защищены.</p>&ndash;&gt;-->
<!--&lt;!&ndash;    </footer>&ndash;&gt;-->

<!--&lt;!&ndash;    <script>&ndash;&gt;-->
<!--&lt;!&ndash;        fetch('/products/')&ndash;&gt;-->
<!--&lt;!&ndash;            .then(response => {&ndash;&gt;-->
<!--&lt;!&ndash;                if (!response.ok) {&ndash;&gt;-->
<!--&lt;!&ndash;                    throw new Error('Ошибка сети при получении продуктов');&ndash;&gt;-->
<!--&lt;!&ndash;                }&ndash;&gt;-->
<!--&lt;!&ndash;                return response.json();&ndash;&gt;-->
<!--&lt;!&ndash;            })&ndash;&gt;-->
<!--&lt;!&ndash;            .then(data => {&ndash;&gt;-->
<!--&lt;!&ndash;                const container = document.getElementById('products');&ndash;&gt;-->
<!--&lt;!&ndash;                data.forEach(product => {&ndash;&gt;-->
<!--&lt;!&ndash;                    const productName = product.name_ru || product.name;&ndash;&gt;-->
<!--&lt;!&ndash;                    container.innerHTML += `&ndash;&gt;-->
<!--&lt;!&ndash;                        <div class="product-card">&ndash;&gt;-->
<!--&lt;!&ndash;                            <h3>${productName}</h3>&ndash;&gt;-->
<!--&lt;!&ndash;                            <p>${product.description}</p>&ndash;&gt;-->
<!--&lt;!&ndash;                            <p class="price">Цена: ${product.price} ₽</p>&ndash;&gt;-->
<!--&lt;!&ndash;                            <button onclick="addToCart(${product.id})" class="button">Добавить в корзину</button>&ndash;&gt;-->
<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    `;&ndash;&gt;-->
<!--&lt;!&ndash;                });&ndash;&gt;-->
<!--&lt;!&ndash;            })&ndash;&gt;-->
<!--&lt;!&ndash;            .catch(error => console.error('Ошибка при получении продуктов:', error));&ndash;&gt;-->

<!--&lt;!&ndash;        function addToCart(productId) {&ndash;&gt;-->
<!--&lt;!&ndash;            console.log(`Добавлен товар ${productId} в корзину`);&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->
<!--&lt;!&ndash;    </script>&ndash;&gt;-->

<!--&lt;!&ndash;    # Исправим шаблон, чтобы изображения выводились корректно.&ndash;&gt;-->
<!--&lt;!&ndash;<div id="products" class="products-grid">&ndash;&gt;-->
<!--&lt;!&ndash;    <script>&ndash;&gt;-->
<!--&lt;!&ndash;        fetch('/api/products/')&ndash;&gt;-->
<!--&lt;!&ndash;            .then(response => response.json())&ndash;&gt;-->
<!--&lt;!&ndash;            .then(data => {&ndash;&gt;-->
<!--&lt;!&ndash;                const container = document.getElementById('products');&ndash;&gt;-->
<!--&lt;!&ndash;                data.forEach(product => {&ndash;&gt;-->
<!--&lt;!&ndash;                    const productName = product.name_ru || product.name;&ndash;&gt;-->
<!--&lt;!&ndash;                    container.innerHTML += `&ndash;&gt;-->
<!--&lt;!&ndash;                        <div class="product-card">&ndash;&gt;-->
<!--&lt;!&ndash;                            <img src="${product.image}" alt="${productName}" style="max-width: 100%;">&ndash;&gt;-->
<!--&lt;!&ndash;                            <h3>${productName}</h3>&ndash;&gt;-->
<!--&lt;!&ndash;                            <p>${product.description}</p>&ndash;&gt;-->
<!--&lt;!&ndash;                            <p class="price">Цена: ${product.price} ₽</p>&ndash;&gt;-->
<!--&lt;!&ndash;                            <button onclick="addToCart(${product.id})" class="button">Добавить в корзину</button>&ndash;&gt;-->
<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    `;&ndash;&gt;-->
<!--&lt;!&ndash;                });&ndash;&gt;-->
<!--&lt;!&ndash;            })&ndash;&gt;-->
<!--&lt;!&ndash;            .catch(error => console.error('Ошибка при получении продуктов:', error));&ndash;&gt;-->
<!--&lt;!&ndash;    </script>&ndash;&gt;-->
<!--&lt;!&ndash;</div>&ndash;&gt;-->

<!--&lt;!&ndash;</body>&ndash;&gt;-->
<!--&lt;!&ndash;</html>&ndash;&gt;-->
